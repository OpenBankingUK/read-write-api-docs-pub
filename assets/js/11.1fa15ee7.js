(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1390:function(t,e,r){t.exports=r.p+"assets/img/PaymentStatusModelTriangle.15d76462.png"},1391:function(t,e,r){t.exports=r.p+"assets/img/DomesticPaymentFlow.314c80e9.png"},1392:function(t,e,r){t.exports=r.p+"assets/img/OBRisk1.3d140f08.svg"},1393:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQkAAABLCAMAAABUUYKFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEXUExURQAAAP/////bwjo6wtv///+2rQAAgDqQ6zoAgGa2/9uQl///1mYAgAAArbb/////2/86AP86kP86Ov/b/zoArWY6wtvbwmaQ6wA6wv/bkP8AOv//65A6gGYAl5Db/5BmgAAAl/+QOv+Q2/9mAP8AZv8AAP+2/wBm1joAl7ZmgP+2ZpA6l2YArf//trZmrQA6rWY6lwA6l/9mtv+QkLZmAGYAAJA6AGYAOjqQ2//rkDqXkJCXAACAAACAOpDr/9vCOgCXkDrC2zqAAGbW/5CXOmaAZgCAZmaXkNvrkDqAZv/WZratADqXOjqAOmaAOpCtAGaAAJDCOgCtttv/29vWZratZgCXZmaXOgCXOmbCkLbrkGaXADqXZrs2ncMAAAZOSURBVHhe7ZgJW9tGEIYRARN4iAXpSaA0QEyatO59GZwQcJsCbtr0Snr9/9/R75udsVYgyWvZlp1G38Na2kO7M+/OrrQszE7RSNKHpikdqXKNSkKv01JNwlSTMNUkTDUJU1kSizeW9K60Xj0Sy41GYwW+38R1Ffk15oeQiNcbjVtNzeRokiTijU29K1B8+w29y9JwEmvwKF5fiRbfbEbLuJf8W28Xk1h8Bw++Wxw2bmAYkG+BX1Vo59btO0VeOo1JYnuHcQAEJIEUv7fL4sUb7zfu7rr4YOZWk2GAku0d/koTPFAkDkwOlCu5Jr+20M69/YN98Li312odHrRAZaslv4gUpK1NlsUbrVYrP3RsnFw5f+A/b9bum3+LN1ejZZn0xQ92mdneWWGr6MGKlofEhHOU0rIr0kqqkARmW5xu7UcPW4fRw814g78DElI2bkwoifVV3SfUTe4Tbq/Y/nBXMmgHEvFHcnGPsGG+nIfh0seyBG/ppjqOxN/2HYdnAGQyJFxMYP65VbBYSWB53BUSJMRW5MXlwa2lWBjYuUhp2RVpJSTNc4VF0UI8qMdIiADsoodaoJdJ7hPIuAk3Eii3mEDSmKCGRoS6Zn5my68ssFNcTDxG2rrnYgKXpHxMEql3B2LCe3fAeW4c2CdIAa6zGvtE9DG2z6Eg1DXP1+vyawrspKfeYkCyfQK75kFC6ODQtc/UcBL+94S8Ffi+WNUwwAvjk0+FBJt9JmHTaNyXZ9zXR76GDpxWQfO9z/l7sJ+Q4LsD8cBl84UXK2O9O0aREAnW5EhMRJMj8WD4V2Va/1sSIytr4C+TBeXdil4rEu2vFsx971b1WpGI4q8H7nu3TjUJUwUkZiY1wVMhielLR6pcOSTa3+zibyYxoXeV6/rA2CYXvnUk5FaLnV4rEoWqSZhqEqbKSXSORjk75Ck+7j56rPdXdNLtPpEhKiIRYgrlk0BF93QIic4ZGvU0k6/4Oxm8/X3qJKJZHaI0ifg4sT9XakGYKZRH4uRpM2r/cD6ExEUzukTDIXLD97uplpYdl0Tnx2c5k+zpColiU6iERPsnebRz9DOjSeKDmafN9vMuS1yUkQSTy3mttJq36CVkIkqTODntn6KXi18QnX0Z9cyNvcTkHIA5GvqjxwT94+WsF11KF51nj5mJj0+FEkZHOVud/AqokktaWTVvoWmSQN/i9BlGxEK9fPLbsZhsJJwDakEZEs4xqXP1NiJ8Bwk+iovuE5pLWlm19hwyfFkSeJzdi22SuKB1bCS9qAWlSCQrhwmB/0g6JyFDgBKuDoaB5JJWVq09T5MEl6SsSWdo5+h3WBgf97RAL2OQcFOsnS+BC7rQDOvsUdkjeppLWl3peYokpGt0wV5cOndRK5M0CRLeuwP12As49ci0n/d4y40g+qOpMaG5pJVVa8+p4fuYM6bJkJCnk8WAZPsEzRpsF1Ff3/UhplAeCQk7izG8MF68dD5edrt/SiR0u3AcqwCrQnNeK63Wnt3wfQnjwfCatUYlSXC/Jnj2oglGcWnD/r+8WDnz3x3FplA+iXx5D4RJJyJb2ltJEqMqxBQqgAT4uc10BLmvi0xh5mSuKiNR4mu7YlVEIlQ1CVM4idAoC1aFJIIW64CEfBsVbAmpt9FA199GwSpNAsbLxh+uENtTMcGPhVzZ2yiFKuNMF6yyJNx3z0jjhdh+jQQ+IHkGOXdHUi+u5iUm0t/CPPz+nToLm9ndF/+IJzSsXExc8qTZ44nuBL0MzpxzQ0ID10jAzitnYdrb5+eX84SNy5FAPf5YracNnYR5IaETYyTcRexIPsGdVfhV88qRAF0eJ9j74ATKyrkhkaxuJL34Z2GWurgRT6iSJDr/vtTT/4UxpeaFhO0TsJU+O9d9O1jqSIgnVEkS8g9TVhOoO2KyMtWbnWRmQMLOzOmTpxqq2fhYYmHwr98Q2zNIyC7DaGNrbsJ+hA0/0wWrLAn5nsB+njp5qqGWVbPTJ/Ni21MknASVVntSrtm63ny4SpMIlk56mO0ZJGSXySDx6n1t634ZZnsGiao0fRIjqSZhqkmYQGJmUhMCpQ9NUzpS5Zq/mNC7ylWTMNUkTPNHYmZSEwKlD01ROlCtmoSpJmGqSZhqEqaahKkmYapJmGoSppqEqSZhqkk4RdF/m0K8pdRKU4cAAAAASUVORK5CYII="},1394:function(t,e,r){t.exports=r.p+"assets/img/OBAuthorisation1.e5a7ef75.svg"},1395:function(t,e,r){t.exports=r.p+"assets/img/OBMultiAuthorisation1.9c359a5d.svg"},1396:function(t,e,r){t.exports=r.p+"assets/img/OBDomesticRefundAccount1.22909e1d.svg"},1397:function(t,e,r){t.exports=r.p+"assets/img/OBInternationalRefundAccount1.9a14fe7a.svg"},1398:function(t,e,r){t.exports=r.p+"assets/img/OBWritePaymentDetailsResponse1.4638e754.svg"},1399:function(t,e,r){t.exports=r.p+"assets/img/OBSCASupportData1.59975a85.svg"},1400:function(t,e,r){t.exports=r.p+"assets/img/Idempotent-Payment-Order-Consent.3e5583e1.png"},1401:function(t,e,r){t.exports=r.p+"assets/img/IdempotentPaymentOrder.7d9ecb30.png"},1402:function(t,e,r){t.exports=r.p+"assets/img/Multi-Auth-Payment-Order-Consent.99cfb143.png"},1403:function(t,e,r){t.exports=r.p+"assets/img/CHAPS-SIP-AfterCutoffTime.edd52705.png"},1404:function(t,e,r){t.exports=r.p+"assets/img/CHAPS-SIPO-AfterCutoffTime-2.33f85b30.png"},2287:function(t,e,r){"use strict";r.r(e);var a=r(6),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"payment-initiation-api-profile-v4-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#payment-initiation-api-profile-v4-0"}},[t._v("#")]),t._v(" Payment Initiation API Profile - v4.0 ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#overview"}},[t._v("Overview")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#document-overview"}},[t._v("Document Overview")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#resources"}},[t._v("Resources")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#design-principles"}},[t._v("Design Principles")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#scheme-agnostic"}},[t._v("Scheme Agnostic")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#status-codes"}},[t._v("Status Codes")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#basics"}},[t._v("Basics")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#overview-2"}},[t._v("Overview")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#steps"}},[t._v("Steps")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#sequence-diagram"}},[t._v("Sequence Diagram")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#payment-restrictions"}},[t._v("Payment Restrictions")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#cutoffdatetime-behaviour"}},[t._v("CutOffDateTime Behaviour")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#reject-the-payment-order"}},[t._v("Reject the Payment-Order")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#accept-the-payment-order"}},[t._v("Accept the Payment-Order")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#release-management"}},[t._v("Release Management")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#payment-order-consent"}},[t._v("Payment-Order Consent")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#post"}},[t._v("POST")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#get"}},[t._v("GET")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#payment-order-consent-confirm-funds"}},[t._v("Payment-Order Consent (Confirm Funds)")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#get-2"}},[t._v("GET")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#payment-order-resource"}},[t._v("Payment-Order Resource")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#post-2"}},[t._v("POST")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#get-3"}},[t._v("GET")])])])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#security-access-control"}},[t._v("Security & Access Control")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#scopes"}},[t._v("Scopes")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#grants-types"}},[t._v("Grants Types")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#consent-authorisation"}},[t._v("Consent Authorisation")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#multiple-authorisation"}},[t._v("Multiple Authorisation")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#error-condition"}},[t._v("Error Condition")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#consent-revocation"}},[t._v("Consent Revocation")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#changes-to-selected-account"}},[t._v("Changes to Selected Account")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#consent-re-authentication"}},[t._v("Consent Re-authentication")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#risk-scoring-information"}},[t._v("Risk Scoring Information")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-model"}},[t._v("Data Model")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#reused-classes"}},[t._v("Reused Classes")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#obrisk1"}},[t._v("OBRisk1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obcharge2"}},[t._v("OBCharge2")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-1"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-2"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obauthorisation1"}},[t._v("OBAuthorisation1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-2"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-3"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obmultiauthorisation1"}},[t._v("OBMultiAuthorisation1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-3"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-4"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obdomesticrefundaccount1"}},[t._v("OBDomesticRefundAccount1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-4"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-5"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obinternationalrefundaccount1"}},[t._v("OBInternationalRefundAccount1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-5"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-6"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#OBWritePaymentDetailsResponse1"}},[t._v("OBWritePaymentDetailsResponse1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-6"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-7"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obscasupportdata1"}},[t._v("OBSCASupportData1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#uml-diagram-7"}},[t._v("UML Diagram")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-8"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obremittanceinformation2"}},[t._v("OBRemittanceInformation2")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-dictionary-9"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obmandaterelatedinformation1"}},[t._v("OBMandateRelatedInformation1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#notes"}},[t._v("Notes ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#data-dictionary-10"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obregulatoryreporting1"}},[t._v("OBRegulatoryReporting1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-dictionary-11"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obultimatecreditor1"}},[t._v("OBUltimateCreditor1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-dictionary-12"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obultimatedebtor1"}},[t._v("OBUltimateDebtor1")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-dictionary-13"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obpostaladdress7"}},[t._v("OBPostalAddress7")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#data-dictionary-14"}},[t._v("Data Dictionary")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#obproxy1"}},[t._v("OBProxy1 ")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#obproxy1-data-dictionary"}},[t._v("Data Dictionary")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#identifier-fields"}},[t._v("Identifier Fields")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#merchant-flow"}},[t._v("Merchant Flow")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#party-to-party-flow"}},[t._v("Party to Party Flow")])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#enumerations"}},[t._v("Enumerations")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#static-enumerations"}},[t._v("Static Enumerations")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#iso-enumerations"}},[t._v("ISO Enumerations")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#namespaced-enumerations"}},[t._v("Namespaced Enumerations")])])])])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#alternative-and-error-flows"}},[t._v("Alternative and Error Flows")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#idempotent-payment-order-consent"}},[t._v("Idempotent Payment Order Consent")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#idempotent-payment-order"}},[t._v("Idempotent Payment Order")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#multi-auth-payment-order-consent"}},[t._v("Multi-Auth Payment Order Consent")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#reject-the-payment-order-consent-creation-after-cutoffdatetime"}},[t._v("Reject the Payment Order Consent Creation After CutOffDateTime")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#reject-the-payment-order-creation-after-cutoffdatetime"}},[t._v("Reject the Payment Order Creation After CutOffDateTime")])])])])]),t._v(" "),a("h2",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("The Payment Initiation API Profile describes the flows and common functionality for the Payment Initiation API, which allows a Payment Initiation Service Provider ('PISP') to:")]),t._v(" "),a("ul",[a("li",[t._v("Register an intent to "),a("strong",[t._v("stage")]),t._v(" a payment-order consent.")]),t._v(" "),a("li",[t._v("Optionally confirm available funds for a payment-order\n"),a("ul",[a("li",[t._v("Domestic immediate, international immediate and international scheduled (immediate debit) payments only.")])])]),t._v(" "),a("li",[t._v("Subsequently "),a("strong",[t._v("submit")]),t._v(" the payment-order for processing.")]),t._v(" "),a("li",[t._v("Optionally retrieve the status of a payment-order "),a("strong",[t._v("consent")]),t._v(" or payment-order "),a("strong",[t._v("resource")]),t._v(".")])]),t._v(" "),a("p",[t._v("This profile should be read in conjunction with a compatible Read/Write Data API Profile which provides a description of the elements that are common across all the Read/Write Data APIs, and compatible individual resources.")]),t._v(" "),a("h3",{attrs:{id:"document-overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#document-overview"}},[t._v("#")]),t._v(" Document Overview")]),t._v(" "),a("p",[t._v("This document consists of the following parts:")]),t._v(" "),a("p",[a("strong",[t._v("Overview:")]),t._v(" Provides an overview of the profile.")]),t._v(" "),a("p",[a("strong",[t._v("Basics:")]),t._v(" Identifies the flows, restrictions and release management.")]),t._v(" "),a("p",[a("strong",[t._v("Security & Access Control:")]),t._v(" Specifies the means for PISPs and PSUs to authenticate themselves and provide consent.")]),t._v(" "),a("p",[a("strong",[t._v("Data Model:")]),t._v(" Documents mappings and enumerations that apply to all the end-points.")]),t._v(" "),a("p",[a("strong",[t._v("Alternative Flows:")]),t._v(" Documents rules for alternative flows.")]),t._v(" "),a("h3",{attrs:{id:"resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[t._v("#")]),t._v(" Resources")]),t._v(" "),a("p",[t._v("Each of the Payment Initiation API resources are documented in the  "),a("RouterLink",{attrs:{to:"/v4.0/resources-and-data-models/pisp/"}},[t._v("Resources and Data Models/PISP")]),t._v(" area of the specification. Each resource is documented with:")],1),t._v(" "),a("ul",[a("li",[t._v("Endpoints\n"),a("ul",[a("li",[t._v("The API endpoints available for the resource.")])])]),t._v(" "),a("li",[t._v("Data Model\n"),a("ul",[a("li",[t._v("Resource definition.")]),t._v(" "),a("li",[t._v("UML diagram.")]),t._v(" "),a("li",[t._v("Permissions as they relate to accessing the resource.")]),t._v(" "),a("li",[t._v("Data dictionary - which defines fields, re-usable classes, mandatory (1..1) or conditional (0..1) as defined in the Design Principles section, and enumerations.")])])]),t._v(" "),a("li",[t._v("Usage Examples")])]),t._v(" "),a("h3",{attrs:{id:"design-principles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#design-principles"}},[t._v("#")]),t._v(" Design Principles")]),t._v(" "),a("h4",{attrs:{id:"scheme-agnostic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scheme-agnostic"}},[t._v("#")]),t._v(" Scheme Agnostic")]),t._v(" "),a("p",[t._v("The API has been be designed so that it is agnostic to the underlying payment scheme that is responsible for carrying out the payment.")]),t._v(" "),a("p",[t._v("In doing so, this means we will not design field lengths and payloads to only match the Faster Payments message, and will instead rely on the field lengths and definitions in ISO 20022. Due diligence has been carried out to ensure that the API has the necessary fields to function with Bacs payments as per the agreed scope.")]),t._v(" "),a("p",[t._v("Further mapping guidance has been provided to ensure that differences are understood between the Open Banking Payment API standard, and other message formats in the Domestic Payment Message Formats sub-page.")]),t._v(" "),a("h4",{attrs:{id:"status-codes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#status-codes"}},[t._v("#")]),t._v(" Status Codes")]),t._v(" "),a("p",[t._v("The API uses two status codes that serve two different purposes:")]),t._v(" "),a("ul",[a("li",[t._v("The HTTP Status Code reflects the outcome of the API call (the HTTP operation on the resource).")]),t._v(" "),a("li",[t._v("The Status Code field for the payment-order consent reflects the status of the PSU consent authorisation.")]),t._v(" "),a("li",[t._v("The Status Code field for the payment-order resource reflects the status of the payment-order initiation or execution.")])]),t._v(" "),a("h2",{attrs:{id:"basics"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basics"}},[t._v("#")]),t._v(" Basics")]),t._v(" "),a("h3",{attrs:{id:"overview-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-2"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),a("p",[t._v("The figure below provides a "),a("strong",[t._v("general")]),t._v(" outline of a payment flow for all payment-order types using the Payment APIs. The payment-order types covered in this profile include:")]),t._v(" "),a("ul",[a("li",[t._v("Domestic payments.")]),t._v(" "),a("li",[t._v("Domestic scheduled payments.")]),t._v(" "),a("li",[t._v("Domestic standing orders.")]),t._v(" "),a("li",[t._v("International payments.")]),t._v(" "),a("li",[t._v("International scheduled payments.")])]),t._v(" "),a("p",[t._v("The payment-order consent and payment-order resource in the following flow generalises for the different payment-order types. e.g. for a domestic payment, the payment-order consent resource is domestic-payment-consents; and the payment-order resource is domestic-payments.")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1390),alt:"Payments Flow"}})]),t._v(" "),a("h4",{attrs:{id:"steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#steps"}},[t._v("#")]),t._v(" Steps")]),t._v(" "),a("p",[t._v("Step 1: Agree Payment-Order Initiation")]),t._v(" "),a("ul",[a("li",[t._v("This flow begins with a PSU consenting to a payment being made. The consent is between the PSU and the PISP.")]),t._v(" "),a("li",[t._v("The debtor account details can optionally be specified at this stage.")])]),t._v(" "),a("p",[t._v("Step 2: Setup Payment-Order Consent")]),t._v(" "),a("ul",[a("li",[t._v("The PISP connects to the ASPSP that services the PSU's payment account and creates a new "),a("strong",[t._v("payment-order consent")]),t._v(" resource. This informs the ASPSP that one of its PSUs intends to make a "),a("strong",[t._v("payment-order")]),t._v(". The ASPSP responds with an identifier for the payment-order consent resource (the ConsentId, which is the intent identifier).")]),t._v(" "),a("li",[t._v("This step is carried out by making a "),a("strong",[t._v("POST")]),t._v(" request to the "),a("strong",[t._v("payment-order consent")]),t._v(" resource.")])]),t._v(" "),a("p",[t._v("Step 3: Authorise Consent")]),t._v(" "),a("ul",[a("li",[t._v("The PISP requests the PSU to authorise the consent. The ASPSP may carry this out by using a "),a("em",[t._v("redirection flow")]),t._v(" or a "),a("em",[t._v("decoupled flow")]),t._v(".\n"),a("ul",[a("li",[t._v("In a redirection flow, the PISP redirects the PSU to the ASPSP.\n"),a("ul",[a("li",[t._v("The redirect includes the ConsentId generated in the previous step.")]),t._v(" "),a("li",[t._v("This allows the ASPSP to correlate the payment order consent that was setup.")]),t._v(" "),a("li",[t._v("The ASPSP authenticates the PSU.")]),t._v(" "),a("li",[t._v("The PSU selects the debtor account at this stage (if it has not been previously specified in Step 1).")]),t._v(" "),a("li",[t._v("The ASPSP updates the state of the payment order consent resource internally to indicate that the consent has been authorised.")]),t._v(" "),a("li",[t._v("Once the consent has been authorised, the PSU is redirected back to the PISP.")])])]),t._v(" "),a("li",[t._v("In a decoupled flow, the ASPSP requests the PSU to authorise consent on an  "),a("em",[t._v("authentication device")]),t._v(" that is separate from the  "),a("em",[t._v("consumption device")]),t._v(" on which the PSU is interacting with the PISP.\n"),a("ul",[a("li",[t._v("The decoupled flow is initiated by the PISP calling a back-channel authorisation request.")]),t._v(" "),a("li",[t._v("The request contains a 'hint' that identifies the PSU paired with the consent to be authorised.")]),t._v(" "),a("li",[t._v("The ASPSP authenticates the PSU")]),t._v(" "),a("li",[t._v("The PSU selects the debtor account at this stage (if it has not been previously specified in Step 1)")]),t._v(" "),a("li",[t._v("The ASPSP updates the state of the payment order consent resource internally to indicate that the consent has been authorised.")]),t._v(" "),a("li",[t._v("Once the consent has been authorised, the ASPSP can make a callback to the PISP to provide an access token.")])])])])])]),t._v(" "),a("p",[t._v("Step 4: Confirm Funds (Domestic and International Single Immediate Payments Only)")]),t._v(" "),a("ul",[a("li",[t._v("Once the PSU is authenticated and authorised the "),a("strong",[t._v("payment-order-consent")]),t._v(" , the PISP can check whether funds are available to make the payment.")]),t._v(" "),a("li",[t._v("This is carried out by making a "),a("strong",[t._v("GET")]),t._v(" request, calling the "),a("strong",[t._v("funds-confirmation")]),t._v(" operator on the "),a("strong",[t._v("payment-order-consent")]),t._v(" resource.")])]),t._v(" "),a("p",[t._v("Step 5: Create Payment-Order")]),t._v(" "),a("ul",[a("li",[t._v("The PISP creates a "),a("strong",[t._v("payment-order")]),t._v(" resource to indicate that the payment created in the steps above should be submitted for processing.")]),t._v(" "),a("li",[t._v("This is carried out by making a "),a("strong",[t._v("POST")]),t._v(" request to the appropriate "),a("strong",[t._v("payment-order")]),t._v(" resource.")]),t._v(" "),a("li",[t._v("The ASPSP returns the identifier for the payment-order resource to the PISP.")])]),t._v(" "),a("p",[t._v("Step 6: Get Consent/Payment-Order/Payment-Details Status")]),t._v(" "),a("ul",[a("li",[t._v("The PISP can check the status of the payment-order consent (with the ConsentId) or payment-order resource (with the payment-order resource identifier) or payment-details(with the payment-order resource identifier) .")]),t._v(" "),a("li",[t._v("This is carried out by making a "),a("strong",[t._v("GET")]),t._v(" request to the "),a("strong",[t._v("payment-order consent")]),t._v(" or "),a("strong",[t._v("payment-order")]),t._v(" or "),a("strong",[t._v("payment-details")]),t._v(" resource.")])]),t._v(" "),a("h4",{attrs:{id:"sequence-diagram"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sequence-diagram"}},[t._v("#")]),t._v(" Sequence Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1391),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("participant PSU #lightyellow\nparticipant PISP #lightblue\nparticipant ASPSP Authorisation Server #lightcyan\nparticipant ASPSP Resource Server #lightcyan\n\nnote over PSU, ASPSP Resource Server #lightyellow:Step 1: Agree Payment-Order Initiation\n\nPSU -> PISP: Agree payment-order initiation request\n\nnote over PSU, ASPSP Resource Server #lightyellow:Setup Payment-Order Consent\n\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Initiate Client Credentials Grant\nASPSP Authorisation Server -> PISP: access-token\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /payment-order-consents\nrbox over ASPSP Resource Server #lightgreen: Consent Status: AWAU \nASPSP Resource Server -> PISP: HTTP 201 (Created),  ConsentId\n\nnote over PSU, ASPSP Resource Server #lightyellow:Step 3: Authorize Consent\n\nalt Redirection (Using authorization code grant)\n        PISP -> PSU: HTTP 302 (Found), Redirect (ConsentId)\n        PSU -> ASPSP Authorisation Server: Follow redirect (ConsentId)\n        PSU <-> ASPSP Authorisation Server: authenticate\n        PSU <-> ASPSP Authorisation Server: SCA if required\n        PSU <-> ASPSP Authorisation Server: Select debtor account if required\n        rbox over ASPSP Resource Server #lightgreen: Consent Status: AUTH\n        ASPSP Authorisation Server -> PSU: HTTP 302 (Found), Redirect (authorization-code)\n        PSU -> PISP: Follow redirect (authorization-code)\n        PISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\n        PISP -> ASPSP Authorisation Server: Exchange authorization-code for access token\n        ASPSP Authorisation Server -> PISP: access-token\nelse Decoupled (Using CIBA)\n        PISP -> ASPSP Authorisation Server: POST /bc-authorize (login_hint_token)\n        ASPSP Authorisation Server -> PISP: OK\n\n        PSU -> ASPSP Authorisation Server: Authorise (Consent Id)\n        PSU <-> ASPSP Authorisation Server: authenticate\n        PSU <-> ASPSP Authorisation Server: SCA if required\n        PSU <-> ASPSP Authorisation Server: select accounts\n        rbox over ASPSP Resource Server #lightgreen: Consent Status: AUTH\n\n        alt Using callback\n                ASPSP Authorisation Server -> PISP: Callback (authorization-code)\n                PISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\n                PISP -> ASPSP Authorisation Server: Exchange authorization-code for access token\n                ASPSP Authorisation Server -> PISP: access-token\n        else Using polling\n                PISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\n                PISP -> ASPSP Authorisation Server: Poll at /token using auth-req-id\n                ASPSP Authorisation Server -> PISP: access-token\n        end alt\nend alt\n\n\nnote over PSU, ASPSP Resource Server #lightyellow:Step 4: Confirm Funds (Domestic and International Single Immediate Payments Only)\n\nopt\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: GET /payment-order-consents/{ConsentId}/funds-confirmation\nASPSP Resource Server -> PISP: HTTP 200 (OK) funds-confirmation resource\n\nend opt\n\nnote over PSU, ASPSP Resource Server #lightyellow:Step 5: Create Payment-Order\n\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /payment-orders\nalt Multiauthorise Payment Order\nrbox over ASPSP Resource Server #lightgreen: Multiauthoriation Status: AWAF\nrbox over ASPSP Resource Server #lightgreen: Multiauthoriation Status: AUTH\nend alt\nrbox over ASPSP Resource Server #lightgreen: Consent Status: COND\nalt Immediate Payment\nrbox over ASPSP Resource Server #lightgreen: Payment Status: RCVD\nend alt\nASPSP Resource Server -> PISP: HTTP 201 (Created), Payment-Order Id\n\nnote over PSU, ASPSP Resource Server #lightyellow:Step 6: Get Payment-Order-Consent/Payment-Order/Payment-details Status\n\nopt payment-order-consent\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: GET /payment-order-consents/{ConsentId}\nalt Immediate\nrbox over ASPSP Resource Server #lightgreen: Consent Status: AWAU\nrbox over ASPSP Resource Server #lightgreen: Consent Status: AUTH\nrbox over ASPSP Resource Server #lightgreen: Consent Status: RJCT\nend alt\nASPSP Resource Server -> PISP: HTTP 200 (OK) payment-order-consent resource\nend opt\n\nopt payment-order\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: GET /payment-orders/{Payment-Order Id}\nalt Immediate\nrbox over ASPSP Resource Server #lightgreen: Payment Status: RCVD\nrbox over ASPSP Resource Server #orange: Payment Status: PDNG\nrbox over ASPSP Resource Server #orange: Payment Status: ACTC or PATC\nrbox over ASPSP Resource Server #orange: Payment Status: ACCP\nrbox over ASPSP Resource Server #orange: Payment Status: ACFC\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACSP\nrbox over ASPSP Resource Server #orange: Payment Status: ACWC\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACSC\nrbox over ASPSP Resource Server #orange: Payment Status: BLCK\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACWP\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACCC\nrbox over ASPSP Resource Server #lightgreen: Payment Status: RJCT\nend alt\nalt Additional for FDP and SO \nrbox over ASPSP Resource Server #orange: Payment Status: CANC\nend alt\nASPSP Resource Server -> PISP: HTTP 200 (OK) payment-order resource\nend opt\n\nopt payment-details\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: GET /payment-orders/{Payment-Order Id}/payment-details\nalt Immediate\nrbox over ASPSP Resource Server #lightgreen: Payment Status: RCVD\nrbox over ASPSP Resource Server #orange: Payment Status: PDNG\nrbox over ASPSP Resource Server #orange: Payment Status: ACTC or PATC\nrbox over ASPSP Resource Server #orange: Payment Status: ACCP\nrbox over ASPSP Resource Server #orange: Payment Status: ACFC\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACSP\nrbox over ASPSP Resource Server #orange: Payment Status: ACWC\nrbox over ASPSP Resource Server #orange: Payment Status: ACSC\nrbox over ASPSP Resource Server #orange: Payment Status: BLCK\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACWP\nrbox over ASPSP Resource Server #lightgreen: Payment Status: ACCC\nrbox over ASPSP Resource Server #lightgreen: Payment Status: RJCT\nend alt\nalt Additional for FDP and SO \nrbox over ASPSP Resource Server #orange: Payment Status: CANC\nend alt\nASPSP Resource Server -> PISP: HTTP 200 (OK) payment-details resource\nend opt\n\n")])])])]),t._v(" "),a("h3",{attrs:{id:"payment-restrictions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#payment-restrictions"}},[t._v("#")]),t._v(" Payment Restrictions")]),t._v(" "),a("p",[t._v("The standard does not provide a uniform set of restrictions for payment-order types that can be supported through this API.")]),t._v(" "),a("p",[t._v("For example, but not limited to:")]),t._v(" "),a("ul",[a("li",[t._v("The maximum InstructedAmount allowable.")]),t._v(" "),a("li",[t._v("The domestic-standing-order Frequency patterns supported.")]),t._v(" "),a("li",[t._v("The maximum future date on a scheduled-payment.")])]),t._v(" "),a("p",[t._v("Each ASPSP "),a("strong",[t._v("must")]),t._v(" determine appropriate restrictions that they support based on their individual practices, standards and limitations. These restrictions should be documented on ASPSP developer portals.")]),t._v(" "),a("p",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" reject the payment-order "),a("strong",[t._v("consent")]),t._v(" if the ASPSP is unable to handle the request.")]),t._v(" "),a("h4",{attrs:{id:"cutoffdatetime-behaviour"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cutoffdatetime-behaviour"}},[t._v("#")]),t._v(" CutOffDateTime Behaviour")]),t._v(" "),a("p",[t._v("An ASPSP "),a("strong",[t._v("may")]),t._v(" return the specific CutOffDateTime when responding to a payment-order consent request.")]),t._v(" "),a("p",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" document the behaviour for a payment receipt before and after the CutOffDateTime for a payment-order has elapsed.")]),t._v(" "),a("p",[t._v("Two strategies for handling behaviour are:")]),t._v(" "),a("ul",[a("li",[t._v("Reject the payment-order (and steps associated with the creation of payment-order) if received after the applicable CutOffDateTime")]),t._v(" "),a("li",[t._v("Accept the payment-order (and steps associated with the creation of payment-order) if received after the applicable CutOffDateTime")])]),t._v(" "),a("h5",{attrs:{id:"reject-the-payment-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reject-the-payment-order"}},[t._v("#")]),t._v(" Reject the Payment-Order")]),t._v(" "),a("p",[t._v("In this scenario, the behaviour of payment-order execution is explicit to the PISP and PSU.")]),t._v(" "),a("ul",[a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" reject the payment-order "),a("strong",[t._v("consent")]),t._v(" if the CutOffDateTime for a specific payment-order type has elapsed.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" reject an authorization request when the underlying intent object is associated with a CutoffDateTime that has elapsed. The ASPSP "),a("strong",[t._v("must not")]),t._v(" issue an access token in such a situation. The ASPSP "),a("strong",[t._v("must")]),t._v(" set the status of the payment-order consent resource to 'RJCT' which means 'Rejected'.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" reject the payment-order "),a("strong",[t._v("resource")]),t._v(" if the CutOffDateTime for a specific payment-order type, has been established and has elapsed.")]),t._v(" "),a("li",[t._v("A PISP "),a("strong",[t._v("must")]),t._v(" ensure that the PSU consent authorisation is completed and the payment-order resource is created before the CutOffDateTime elapses.")])]),t._v(" "),a("p",[t._v("For a payment-order "),a("strong",[t._v("consent")]),t._v(" or a payment-order "),a("strong",[t._v("resource")]),t._v(" that has been rejected due to the elapsed CutoffDateTime, the PISP "),a("strong",[t._v("may")]),t._v(" decide to create a corresponding schedule payment endpoint to create a new payment-order consent. E.g. if a PISP attempts to make a BACS payment after 16:00, it would be rejected. The PISP may use the /domestic-scheduled-payment-consents endpoint to create a consent for the same payment for the next working day.")]),t._v(" "),a("h5",{attrs:{id:"accept-the-payment-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accept-the-payment-order"}},[t._v("#")]),t._v(" Accept the Payment-Order")]),t._v(" "),a("p",[t._v("In this scenario, the behaviour of the payment-order execution is not explicit to the PISP and PSU, and the payment-order will be executed on the next available working day.")]),t._v(" "),a("ul",[a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" accept the payment-order "),a("strong",[t._v("consent")]),t._v(" if the CutOffDateTime for a specific payment-order type has elapsed.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" accept an authorization request when the underlying intent object is associated with a CutoffDateTime that has elapsed.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" accept the payment-order "),a("strong",[t._v("resource")]),t._v(" if the CutOffDateTime for a specific payment-order type, has been established and has elapsed.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("may")]),t._v(" update the payment-order consent or payment-order "),a("strong",[t._v("resource")]),t._v(" with the CutOffDateTime, ExpectedExecutionDateTime and ExpectedSettlementDateTime, to communicate expected execution behaviour  if the CutOffDateTime has elapsed.")])]),t._v(" "),a("h3",{attrs:{id:"release-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#release-management"}},[t._v("#")]),t._v(" Release Management")]),t._v(" "),a("p",[t._v("This section overviews the release management and versioning strategy for the Payment Initiation API. It applies to all Payment Order Consent and Payment Order resources, specified in the Endpoints section.")]),t._v(" "),a("h4",{attrs:{id:"payment-order-consent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#payment-order-consent"}},[t._v("#")]),t._v(" Payment-Order Consent")]),t._v(" "),a("h5",{attrs:{id:"post"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" POST")]),t._v(" "),a("ul",[a("li",[t._v("A PISP "),a("strong",[t._v("must not")]),t._v(" create a payment-order consent ConsentId on a newer version and use it to create a payment-order resource in a previous version\n"),a("ul",[a("li",[t._v("E.g., A ConsentId created in v3, must not be used to create a v1 PaymentSubmissionId")])])]),t._v(" "),a("li",[t._v("A PISP "),a("strong",[t._v("must not")]),t._v(" create a payment-order consent ConsentId on a previous version and use it to create a payment-order resource in a newer version\n"),a("ul",[a("li",[t._v("E.g., A PaymentId created in v1, must not be used to create a v3 DomesticPaymentId")])])])]),t._v(" "),a("h5",{attrs:{id:"get"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" GET")]),t._v(" "),a("ul",[a("li",[t._v("A PISP "),a("strong",[t._v("must not")]),t._v(" access a payment-order ConsentId created in a newer version, via a previous version endpoint\n"),a("ul",[a("li",[t._v("E.g., A ConsentId created in v3 accessed via a v1 PaymentId")])])]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("may")]),t._v(" choose to make ConsentIds accessible across versions\n"),a("ul",[a("li",[t._v("E.g., for a PaymentId created in v1, an ASPSP may or may not make it available via v3, as this is a short-lived consent")])])])]),t._v(" "),a("h4",{attrs:{id:"payment-order-consent-confirm-funds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#payment-order-consent-confirm-funds"}},[t._v("#")]),t._v(" Payment-Order Consent (Confirm Funds)")]),t._v(" "),a("h5",{attrs:{id:"get-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-2"}},[t._v("#")]),t._v(" GET")]),t._v(" "),a("ul",[a("li",[t._v("A PISP "),a("strong",[t._v("must not")]),t._v(" confirm funds using a payment-order-consent ConsentId created in a different version.\n"),a("ul",[a("li",[t._v("E.g. A ConsentId created in v3, must not be used to confirm funds on a v1 endpoint.")])])])]),t._v(" "),a("h4",{attrs:{id:"payment-order-resource"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#payment-order-resource"}},[t._v("#")]),t._v(" Payment-Order Resource")]),t._v(" "),a("h5",{attrs:{id:"post-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#post-2"}},[t._v("#")]),t._v(" POST")]),t._v(" "),a("ul",[a("li",[t._v("A PISP "),a("strong",[t._v("must")]),t._v(" use a payment-order consent ConsentId within the same version to create the payment-order resource (in that version)\n"),a("ul",[a("li",[t._v("E.g., A v3 payment-order "),a("strong",[t._v("consent")]),t._v(" can only be used to create a payment-order "),a("strong",[t._v("resource")]),t._v(" in v3.")])])]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must not")]),t._v(" allow a PISP to use a ConsentId from a previous version to create a Payment Order in a newer version, and vice versa")])]),t._v(" "),a("h5",{attrs:{id:"get-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-3"}},[t._v("#")]),t._v(" GET")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("A PISP "),a("strong",[t._v("must")]),t._v(" refer to the ASPSP's online Developer Portal for guidelines on accessibility of a payment-order resource in a newer version")])]),t._v(" "),a("li",[a("p",[t._v("A PISP "),a("strong",[t._v("must")]),t._v(" not access the payment-order resource types introduced in a newer version, on an older version endpoint:")]),t._v(" "),a("ul",[a("li",[t._v("E.g., an international-payment created in v3, that is accessed via the v1 payment-submissions endpoint.")])])]),t._v(" "),a("li",[a("p",[t._v("A PISP "),a("strong",[t._v("must")]),t._v(" not access the payment-order resource created in a newer version on an older version endpoint:")]),t._v(" "),a("ul",[a("li",[t._v("E.g., for a domestic-payment resource created in v3, access via the v1 payment-submissions endpoint is not permitted.")])])]),t._v(" "),a("li",[a("p",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" document the behaviour on the accessibility of a payment-order resource in a newer version on the ASPSP's online Developer Portal.")])]),t._v(" "),a("li",[a("p",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" allow access to the payment-order resource created in a previous version on a newer version endpoint (depending on an ASPSP's legal requirement for data retention):")]),t._v(" "),a("ul",[a("li",[t._v("E.g., a payment-submission created in v1, must be accessible as a v3 domestic-payment, with sensible defaults for additional fields introduced in v3 (e.g., if an ASPSP must make payment resources available for 7 years).")])])]),t._v(" "),a("li",[a("p",[t._v("In the case where a payment-order type is the same, but the structure has changed in a newer version, sensible defaults may be used, with the ASPSP's Developer Portal clearly specifying the behaviour.")]),t._v(" "),a("ul",[a("li",[t._v("E.g., a new field StatusUpdateDateTime was introduced in v3, an ASPSPs must populate this with the last status update time (as the StatusUpdateDateTime is a mandatory field).")])])])]),t._v(" "),a("h2",{attrs:{id:"security-access-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#security-access-control"}},[t._v("#")]),t._v(" Security & Access Control")]),t._v(" "),a("h3",{attrs:{id:"scopes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scopes"}},[t._v("#")]),t._v(" Scopes")]),t._v(" "),a("p",[t._v("The access tokens required for accessing the Payment APIs must have at least the following scope:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("payments: Generic payment scope\n")])])]),a("h3",{attrs:{id:"grants-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grants-types"}},[t._v("#")]),t._v(" Grants Types")]),t._v(" "),a("p",[t._v("PISPs "),a("strong",[t._v("must")]),t._v(" use a client credentials grant to obtain a token to make POST requests to the payment-order "),a("strong",[t._v("consent")]),t._v(' endpoints. In the specification, this grant type is referred to as "Client Credentials".')]),t._v(" "),a("p",[t._v("PISPs "),a("strong",[t._v("must")]),t._v(" use an authorization code grant using a redirect or decoupled flow to obtain a token to make POST requests to the payment-order "),a("strong",[t._v("resource")]),t._v(" endpoints. This token may also be used to confirm funds on a payment-order "),a("strong",[t._v("consent")]),t._v(' resource. In the specification, this grant type is referred to as "Authorization Code".')]),t._v(" "),a("p",[t._v("PISPs "),a("strong",[t._v("must")]),t._v(" use a client credentials grant to obtain a token to make GET requests (excluding confirming funds).")]),t._v(" "),a("h3",{attrs:{id:"consent-authorisation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consent-authorisation"}},[t._v("#")]),t._v(" Consent Authorisation")]),t._v(" "),a("p",[t._v("OAuth 2.0 scopes are coarse-grained and the set of available scopes are defined at the point of client registration. There is no standard method for specifying and enforcing fine-grained scopes e.g., a scope to enforce payments of a specified amount on a specified date.")]),t._v(" "),a("p",[t._v("A  "),a("em",[t._v("consent authorisation")]),t._v(" is used to define the fine-grained scope that is granted by the PSU to the PISP.")]),t._v(" "),a("p",[t._v("The PISP "),a("strong",[t._v("must")]),t._v(" begin a payment-order request by creating a "),a("strong",[t._v("payment-order consent")]),t._v(" resource through a "),a("strong",[t._v("POST")]),t._v(" operation. These resources indicate the  "),a("em",[t._v("consent")]),t._v(" that the PISP claims it has been given by the PSU. At this stage, the consent is not yet authorised as the ASPSP has not yet verified this claim with the PSU.")]),t._v(" "),a("p",[t._v("The ASPSP responds with a ConsentId. This is the intent-id that is used when initiating the authorization code grant (as described in the Trust Framework).")]),t._v(" "),a("p",[t._v("As part of the authorization code grant:")]),t._v(" "),a("ul",[a("li",[t._v("The ASPSP authenticates the PSU.")]),t._v(" "),a("li",[t._v("The ASPSP plays back the consent (registered by the PISP) back to the PSU to get consent authorisation. The PSU may accept or reject the consent in its entirety (but not selectively).")]),t._v(" "),a("li",[t._v("If the consent did not indicate a debtor account the ASPSP presents the PSU with a list of accounts from which the PSU may select one.")])]),t._v(" "),a("p",[t._v("Once these steps are complete, the consent is considered to have been authorised by the PSU.")]),t._v(" "),a("h4",{attrs:{id:"multiple-authorisation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multiple-authorisation"}},[t._v("#")]),t._v(" Multiple Authorisation")]),t._v(" "),a("p",[t._v("In a multiple authorisation context, the same consent authorisation steps are followed for the first PSU to authorise or stage the payment-order consent.")]),t._v(" "),a("p",[t._v("In the payment-order consent:")]),t._v(" "),a("ul",[a("li",[t._v("A PISP "),a("strong",[t._v("may")]),t._v(" request an AuthorisationType for the payment-order (i.e., Single or Any). If a value is not provided, an ASPSP will interpret the AuthorisationType as 'Any'.")]),t._v(" "),a("li",[t._v("A PISP "),a("strong",[t._v("may")]),t._v(" request a CompletionDateTime for the payment-order authorisation to be complete. If a value is not provided, an ASPSP will interpret the CompletionDateTime as unbounded.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" reject the payment-order consent if the AuthorisationType requested by the PISP does not match the DebtorAccount in the request.")]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" set the status of the payment-order consent to 'RJCT' which means 'Rejected', if the AuthorisationType requested by the PISP cannot be satisfied, after PSU Authentication:\n"),a("ul",[a("li",[t._v("The ASPSP must respond back with an OAuth error response fields  "),a("em",[a("strong",[t._v("error")])]),t._v(" specified as invalid_request and "),a("em",[a("strong",[t._v("error_description")])]),t._v(" containing an appropriate message. The ASPSP must also provide the same status reason in the payment-order consent.")])])]),t._v(" "),a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" restrict the selection of DebtorAccount (in the ASPSP online channel) to accounts that match the AuthorisationType requested by the PISP.")])]),t._v(" "),a("p",[t._v("In the payment-order resource:")]),t._v(" "),a("ul",[a("li",[t._v("An ASPSP "),a("strong",[t._v("must")]),t._v(" respond with the MultiAuthorisation object if the payment-order requires multiple authorisations. The MultiAuthorisation object indicates to the PISP that the payment-order requires multiple authorisations.")]),t._v(" "),a("li",[t._v("The ASPSP "),a("strong",[t._v("must")]),t._v(" populate the MultiAuthorisation object with the Status of the multiple authorisaitons.")]),t._v(" "),a("li",[t._v("The ASPSP "),a("strong",[t._v("may")]),t._v(" populate the MultiAuthorisation object with additional details of the multiple authorisation journey including:\n"),a("ul",[a("li",[t._v("The number of required authorisations (total required at the start of the multi authorisation journey).")]),t._v(" "),a("li",[t._v("The number of authorisations complete.")]),t._v(" "),a("li",[t._v("The date and time of the last authorisation update.")]),t._v(" "),a("li",[t._v("The date and time that the authorisation flow must be completed.")])])])]),t._v(" "),a("p",[t._v("Once the final authorisation is received by the ASPSP, the ASPSP "),a("strong",[t._v("may")]),t._v(" notify the PISP that the payment-order resource has been fully Authorised using an Event Notification (as described in the Event Notification API Profile and Resources).")]),t._v(" "),a("h4",{attrs:{id:"error-condition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-condition"}},[t._v("#")]),t._v(" Error Condition")]),t._v(" "),a("p",[t._v("If the PSU does not complete a successful consent authorisation (e.g., if the PSU has not authenticated successfully), the authorization code grant ends with a redirection to the TPP with an error response as described in "),a("a",{attrs:{href:"https://tools.ietf.org/html/rfc6749#section-4.1.2.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 6749 Section 4.1.2.1"),a("OutboundLink")],1),t._v(". The PSU is redirected to the TPP with an error parameter indicating the error that occurred.\nThe ASPSP must update the payment-order consent status reason with appropriate reason. Refer to CEG - Common Error Scenarios – "),a("a",{attrs:{href:"https://consultation.standards.openbanking.org.uk/customer-experience-guidelines/appendices/common-errors/v4-0-draft1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Preferred Status and Reasons"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h4",{attrs:{id:"consent-revocation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consent-revocation"}},[t._v("#")]),t._v(" Consent Revocation")]),t._v(" "),a("p",[t._v("A PSU cannot revoke a payment-order consent once it has been authorized.")]),t._v(" "),a("p",[t._v("This is required to comply with Article 80 of PSD2.")]),t._v(" "),a("h4",{attrs:{id:"changes-to-selected-account"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changes-to-selected-account"}},[t._v("#")]),t._v(" Changes to Selected Account")]),t._v(" "),a("p",[t._v("For a payment-order consent, the selected debtor account cannot be changed once the consent has been authorized.")]),t._v(" "),a("h4",{attrs:{id:"consent-re-authentication"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consent-re-authentication"}},[t._v("#")]),t._v(" Consent Re-authentication")]),t._v(" "),a("p",[t._v("Payment consents are short-lived and cannot be re-authenticated by the PSU.")]),t._v(" "),a("h3",{attrs:{id:"risk-scoring-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#risk-scoring-information"}},[t._v("#")]),t._v(" Risk Scoring Information")]),t._v(" "),a("p",[t._v("During the design workshops, ASPSPs articulated a need to perform risk scoring on the payments initiated via the Payment API.")]),t._v(" "),a("p",[t._v("Information for risk scoring and assessment will come via:")]),t._v(" "),a("ul",[a("li",[t._v("FAPI HTTP headers. These are defined in "),a("a",{attrs:{href:"https://openid.net/specs/openid-financial-api-part-1-1_0.html#client-provisions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Section 6.2.2"),a("OutboundLink")],1),t._v(" of the FAPI specification and in the Headers section above.")]),t._v(" "),a("li",[t._v("Additional fields identified by the industry as business logic security concerns which will be passed in the Risk section of the payload in the JSON object as defined "),a("code",[t._v("OBRisk*")]),t._v(" components.")])]),t._v(" "),a("p",[t._v("These fields are documented further in the Data Payload section.")]),t._v(" "),a("h2",{attrs:{id:"data-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-model"}},[t._v("#")]),t._v(" Data Model")]),t._v(" "),a("h3",{attrs:{id:"reused-classes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reused-classes"}},[t._v("#")]),t._v(" Reused Classes")]),t._v(" "),a("h4",{attrs:{id:"obrisk1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obrisk1"}},[t._v("#")]),t._v(" OBRisk1")]),t._v(" "),a("p",[t._v("This section describes the Risk1 class which is reused in the payment-order consent and payment-order resources.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1392),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBRisk1")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("OBRisk1")]),t._v(" "),a("td",[t._v("The Risk section is sent by the initiating party to the ASPSP. It is used to specify additional details for risk scoring for Payments.")]),t._v(" "),a("td",[t._v("OBRisk1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BeneficiaryAccountType")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/BeneficiaryAccountType")]),t._v(" "),a("td",[t._v("To be provided if the AccountType is known.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalExtendedAccountType1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BeneficiaryPrepopulatedIndicator")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/BeneficiaryPrepopulatedIndicator")]),t._v(" "),a("td",[t._v("Indicates if PISP has immutably prepopulated payment details in for the PSU.")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CategoryPurposeCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/CategoryPurposeCode")]),t._v(" "),a("td",[t._v("Specifies the category purpose, as published in an external category purpose code list")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_External_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("ExternalCategoryPurpose1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ContractPresentIndicator")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/ContractPresentIndicator")]),t._v(" "),a("td",[t._v("Indicates if Payee has a contractual relationship with the PISP.")]),t._v(" "),a("td",[t._v("Boolean")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("MerchantCategoryCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/MerchantCategoryCode")]),t._v(" "),a("td",[t._v("Category code conform to ISO 18245, related to the type of services or goods the merchant provides for the transaction. For more guidance refer to the "),a("a",{attrs:{href:"https://consultation.standards.openbanking.org.uk/customer-experience-guidelines/appendices/common-errors/v4-0-draft1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CEGs"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("Min3Max4Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("MerchantCustomerIdentification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/MerchantCustomerIdentification")]),t._v(" "),a("td",[t._v("The unique customer identifier of the PSU with the merchant.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PaymentContextCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/PaymentContextCode")]),t._v(" "),a("td",[t._v("Specifies the payment context")]),t._v(" "),a("td",[t._v("r a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalPaymentContext1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PaymentPurposeCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/PaymentPurposeCode")]),t._v(" "),a("td",[t._v("For a full description see "),a("code",[t._v("ExternalPurpose1Code")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("External_CodeSet")]),t._v(" [here]")]),t._v(" "),a("td",[t._v("ExternalPurpose1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DeliveryAddress")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services or in free format text.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AddressLine")]),t._v(" "),a("td",[t._v("0..7")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/AddressLine")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services, that is presented in free format text.")]),t._v(" "),a("td",[t._v("Max70text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AddressType")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/AddressType")]),t._v(" "),a("td",[t._v("Identifies the nature of the postal address. "),a("br"),t._v("For a full description see "),a("code",[t._v("OBAddressType2Code")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBAddressType2Code")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BuildingName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/BuildingName")]),t._v(" "),a("td",[t._v("Name of the building or house.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BuildingNumber")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/BuildingNumber")]),t._v(" "),a("td",[t._v("Number that identifies the position of a building on a street.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CareOf")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/CareOf")]),t._v(" "),a("td",[t._v("Identifies an addressee that is accepting the correspondence for the intended recipient. Using care of ensures the correspondence reaches the right recipient rather than getting returned to the")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("sender.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Country")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/Country")]),t._v(" "),a("td",[t._v("Nation with its own government, occupying a particular territory.")]),t._v(" "),a("td",[t._v("CountryCode")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z]{2,2}$")])]),t._v(" "),a("tr",[a("td",[t._v("CountrySubDivision")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/CountrySubDivision")]),t._v(" "),a("td",[t._v("Identifies a subdivision of a country such as state, region, county.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Department")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/Department")]),t._v(" "),a("td",[t._v("Identification of a division of a large organisation or building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DistrictName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress DistrictName")]),t._v(" "),a("td",[t._v("Identifies a subdivision within a country sub-division.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Floor")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/Floor")]),t._v(" "),a("td",[t._v("Floor or storey within a building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostBox")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/PostBox")]),t._v(" "),a("td",[t._v("Numbered box in a post office, assigned to a person or organisation, where letters are kept until called for.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/PostCode")]),t._v(" "),a("td",[t._v("Identifier consisting of a group of letters and/or numbers that is added to a postal address to assist the sorting of mail.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Room")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/Room")]),t._v(" "),a("td",[t._v("Building room number.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StreetName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress StreetName")]),t._v(" "),a("td",[t._v("Name of a street or thoroughfare.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SubDepartment")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/SubDepartment")]),t._v(" "),a("td",[t._v("Identification of a sub-division of a large organisation or building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("TownLocationName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress TownLocationName")]),t._v(" "),a("td",[t._v("Specific location name within the town.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("TownName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/TownName")]),t._v(" "),a("td",[t._v("Name of a built-up area, with defined boundaries, and a local government.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("UnitNumber")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRisk1/DeliveryAddress/UnitNumber")]),t._v(" "),a("td",[t._v("Identifies a flat or dwelling within the building.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obcharge2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obcharge2"}},[t._v("#")]),t._v(" OBCharge2")]),t._v(" "),a("p",[t._v("This section describes the OBCharge2 class - which is reused in the response payloads in the payment-order consent and payment-order resources.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-2"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1393),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-2"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBCharge2")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("OBCharge2")]),t._v(" "),a("td",[t._v("Set of elements used to provide details of a charge for the payment initiation.")]),t._v(" "),a("td",[t._v("OBCharge2")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ChargeBearer")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBCharge2/ChargeBearer")]),t._v(" "),a("td",[t._v("Specifies which party/parties will bear the charges associated with the processing of the payment transaction.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalChargeBearerType1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Type")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBCharge2/Type")]),t._v(" "),a("td",[t._v("Charge type, in a coded form.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalPaymentChargeType1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Amount")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBCharge2/Amount")]),t._v(" "),a("td",[t._v("Amount of money associated with the charge type.")]),t._v(" "),a("td",[t._v("OBActiveOrHistoricCurrencyAndAmount")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Amount")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBCharge2/Amount/Amount")]),t._v(" "),a("td",[t._v("A number of monetary units specified in an active currency where the unit of currency is explicit and compliant with ISO 4217.")]),t._v(" "),a("td",[t._v("OBActiveCurrencyAndAmount_SimpleType")]),t._v(" "),a("td"),t._v(" "),a("td",[a("code",[t._v("^\\d{1,13}$|^\\d{1,13}\\.\\d{1,5}$")])])]),t._v(" "),a("tr",[a("td",[t._v("Currency")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBCharge2/Amount/Currency")]),t._v(" "),a("td",[t._v('A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217 "Codes for the representation of currencies and funds".')]),t._v(" "),a("td",[t._v("ActiveOrHistoricCurrencyCode")]),t._v(" "),a("td"),t._v(" "),a("td",[a("code",[t._v("^[A-Z]{3,3}$")])])])])]),t._v(" "),a("h4",{attrs:{id:"obauthorisation1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obauthorisation1"}},[t._v("#")]),t._v(" OBAuthorisation1")]),t._v(" "),a("p",[t._v("This section describes the OBAuthorisation1 class which is used in the payment-order consent request and payment-order consent response payloads.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-3"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1394),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-3"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBAuthorisation1")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("OBAuthorisation1")]),t._v(" "),a("td",[t._v("The authorisation type request from the TPP.")]),t._v(" "),a("td",[t._v("OBAuthorisation1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AuthorisationType")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBAuthorisation1/AuthorisationType")]),t._v(" "),a("td",[t._v("Type of authorisation flow requested.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAuthorisation1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CompletionDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBAuthorisation1/CompletionDateTime")]),t._v(" "),a("td",[t._v("Date and time at which the requested authorisation flow must be completed.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obmultiauthorisation1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obmultiauthorisation1"}},[t._v("#")]),t._v(" OBMultiAuthorisation1")]),t._v(" "),a("p",[t._v("This section describes the OBMultiAuthorisation1 class which used in the response payloads of payment-order resources.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-4"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1395),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-4"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBMultiAuthorisation1")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("OBMultiAuthorisation1")]),t._v(" "),a("td",[t._v("The multiple authorisation flow response from the ASPSP.")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Status")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1/Status")]),t._v(" "),a("td",[t._v("Specifies the status of the authorisation flow in code form.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalChargeBearerType1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("NumberRequired")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1/NumberRequired")]),t._v(" "),a("td",[t._v("Number of authorisations required for payment order (total required at the start of the multi authorisation journey).")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("NumberReceived")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1/NumberReceived")]),t._v(" "),a("td",[t._v("Number of authorisations received.")]),t._v(" "),a("td",[t._v("Number")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LastUpdateDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1/LastUpdateDateTime")]),t._v(" "),a("td",[t._v("Last date and time at the authorisation flow was updated.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ExpirationDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMultiAuthorisation1/ExpirationDateTime")]),t._v(" "),a("td",[t._v("Date and time at which the requested authorisation flow must be completed.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obdomesticrefundaccount1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obdomesticrefundaccount1"}},[t._v("#")]),t._v(" OBDomesticRefundAccount1")]),t._v(" "),a("p",[t._v("This section describes the OBDomesticRefundAccount1 class which is used in the response payloads of Domestic Payment, Domestic Scheduled Payment and Domestic Standing Order.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-5"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1396),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-5"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBDomesticRefundAccount1")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1")]),t._v(" "),a("td",[t._v("Unambiguous identification of the refund account to which a refund will be made as a result of the transaction.")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Account")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1/Data/Account")]),t._v(" "),a("td",[t._v("Provides the details to identify an account.")]),t._v(" "),a("td",[t._v("OBCashAccountCreditor3")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SchemeName")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1/Account/SchemeName")]),t._v(" "),a("td",[t._v("Name of the identification scheme, in a coded form as published in an external list.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAccountIdentification4Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1/Account/Identification")]),t._v(" "),a("td",[t._v("Identification assigned by an institution to identify an account. This identification is known by the account owner.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1/Account/Name")]),t._v(" "),a("td",[t._v("Name of the account, as assigned by the account servicing institution. Usage: The account name is the name or names of the account owner(s) represented at an account level. The account name is not the product name or the nickname of the account. OB: ASPSPs may carry out name validation for Confirmation of Payee, but it is not mandatory.")]),t._v(" "),a("td",[t._v("Max350Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SecondaryIdentification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBDomesticRefundAccount1/Account/SecondaryIdentification")]),t._v(" "),a("td",[t._v("This is secondary identification of the account, as assigned by the account servicing institution. This can be used by building societies to additionally identify accounts with a roll number (in addition to a sort code and account number combination).")]),t._v(" "),a("td",[t._v("Max34Text")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obinternationalrefundaccount1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obinternationalrefundaccount1"}},[t._v("#")]),t._v(" OBInternationalRefundAccount1")]),t._v(" "),a("p",[t._v("This section describes the OBInternationalRefundAccount1 class which is used in the response payloads of International Payment, International Scheduled Payment and International Standing Order.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-6"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1397),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-6"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBInternationalRefundAccount1")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1")]),t._v(" "),a("td",[t._v("Unambiguous identification of the refund account to which a refund will be made as a result of the transaction.")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Creditor")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Creditor")]),t._v(" "),a("td",[t._v("Party to which an amount of money is due.")]),t._v(" "),a("td",[t._v("OBPartyIdentification43")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Creditor/Name")]),t._v(" "),a("td",[t._v("Name by which a party is known and which is usually used to identify that party.")]),t._v(" "),a("td",[t._v("Max350Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LEI")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Creditor/LEI")]),t._v(" "),a("td",[t._v("Legal entity identification")]),t._v(" "),a("td",[t._v("Max20Text")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("[A-Z0-9]{18,18}[0-9]{2,2}")])]),t._v(" "),a("tr",[a("td",[t._v("PostalAddress")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Creditor/PostalAddress")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Agent")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Agent")]),t._v(" "),a("td",[t._v("Financial institution servicing an account for the creditor.")]),t._v(" "),a("td",[t._v("OBBranchAndFinancialInstitutionIdentification6")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SchemeName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Agent/SchemeName")]),t._v(" "),a("td",[t._v("Name of the identification scheme, in a coded form as published in an external list.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAccountIdentification4Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Agent/Identification")]),t._v(" "),a("td",[t._v("Unique and unambiguous identification of a financial institution or a branch of a financial institution.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Agent/Name")]),t._v(" "),a("td",[t._v("Name by which an agent is known and which is usually used to identify that agent.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostalAddress")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Agent/PostalAddress")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Account")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account")]),t._v(" "),a("td",[t._v("Unambiguous identification of the account of the creditor to which a credit entry will be posted as a result of the payment transaction.")]),t._v(" "),a("td",[t._v("OBCashAccountCreditor3")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SchemeName")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account/SchemeName")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAccountIdentification4Code")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account/Identification")]),t._v(" "),a("td",[t._v("Identification assigned by an institution to identify an account. This identification is known by the account owner.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account/Name")]),t._v(" "),a("td",[t._v("The account name is the name or names of the account owner(s) represented at an account level. Note, the account name is not the product name or the nickname of the account. OB: ASPSPs may carry out name validation for Confirmation of Payee, but it is not mandatory.")]),t._v(" "),a("td",[t._v("Max350Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SecondaryIdentification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account/SecondaryIdentification")]),t._v(" "),a("td",[t._v("This is secondary identification of the account, as assigned by the account servicing institution. This can be used by building societies to additionally identify accounts with a roll number (in addition to a sort code and account number combination).")]),t._v(" "),a("td",[t._v("Max34Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Proxy")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBInternationalRefundAccount1/Account/Proxy")]),t._v(" "),a("td",[t._v("Specifies an alternate assumed name for the identification of the account.")]),t._v(" "),a("td",[t._v("OBProxy1")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obwritepaymentdetailsresponse1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obwritepaymentdetailsresponse1"}},[t._v("#")]),t._v(" OBWritePaymentDetailsResponse1")]),t._v(" "),a("p",[t._v("This section describes the OBWritePaymentDetailsResponse1 class which used in the response payloads of payment-detail sub resources.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-7"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1398),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-7"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBWritePaymentDetailsResponse1")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1")]),t._v(" "),a("td",[t._v("Payment status details.")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LocalInstrument")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail/LocalInstrument")]),t._v(" "),a("td",[t._v("User community specific instrument."),a("br"),a("br"),t._v("Usage: This element is used to specify a local instrument, local clearing option and/or further qualify the service or service level.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("OBInternalLocalInstrument1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PaymentTransactionId")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/PaymentTransactionId")]),t._v(" "),a("td",[t._v("Unique identifier for the transaction within an servicing institution. This identifier is both unique and immutable.")]),t._v(" "),a("td",[t._v("Max210Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Status")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/Status")]),t._v(" "),a("td",[t._v("Status of a transfer, as assigned by the transaction administrator")]),t._v(" "),a("td",[t._v("For a full description see "),a("code",[t._v("External_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("ExternalPaymentTransactionStatus1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StatusUpdateDateTime")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusUpdateDateTime")]),t._v(" "),a("td",[t._v("Date and time at which the status was assigned to the transfer.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StatusDetail")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail")]),t._v(" "),a("td",[t._v("Array of Payment StatusCodes")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Status")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail/Status")]),t._v(" "),a("td",[t._v("Status of a transfer, as assigned by the transaction administrator")]),t._v(" "),a("td",[t._v("For a full description see "),a("code",[t._v("External_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("ExternalPaymentTransactionStatus1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StatusReasonCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail/StatusReasonCode")]),t._v(" "),a("td",[t._v("Specifies the status reason")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("OBInternalConsentStatus1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StatusReasonDescription")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail/StatusReasonDescription")]),t._v(" "),a("td",[t._v("Reason provided for the status of a transfer.")]),t._v(" "),a("td",[t._v("Max500Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StatusUpdateDateTime")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBWritePaymentDetailsResponse1/Data/StatusDetail/StatusUpdateDateTime")]),t._v(" "),a("td",[t._v("Date and time at which the status was assigned to the transfer.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obscasupportdata1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obscasupportdata1"}},[t._v("#")]),t._v(" OBSCASupportData1")]),t._v(" "),a("p",[t._v("This section describes the OBSCASupportData1 class, which is used across all  "),a("em",[t._v("payment order consent")]),t._v("  request resources, enabling PISPs to provide Supporting Data when requesting ASPSP for SCA Exemption.")]),t._v(" "),a("h5",{attrs:{id:"uml-diagram-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uml-diagram-8"}},[t._v("#")]),t._v(" UML Diagram")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1399),alt:""}})]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-8"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBSCASupportData1")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("SCASupportData")]),t._v(" "),a("td",[t._v("Supporting Data provided by TPP, when requesting SCA Exemption.")]),t._v(" "),a("td",[t._v("OBSCASupportData1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AppliedAuthenticationApproach")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("SCASupportData/AppliedAuthenticationApproach")]),t._v(" "),a("td",[t._v("Specifies a character string with a maximum length of 40 characters."),a("br"),a("br"),t._v("Usage: This field indicates whether the PSU was subject to SCA performed by the TPP")]),t._v(" "),a("td",[t._v("Status of a transfer, as assigned by the transaction administrator")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("OBInternalAppliedAuthenticationApproach1Code")])]),t._v(" "),a("tr",[a("td",[t._v("ReferencePaymentOrderId")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("SCASupportData/ReferencePaymentOrderId")]),t._v(" "),a("td",[t._v("If the payment is recurring, then this field is populated with the transaction identifier of the previous payment occurrence so that the ASPSP can verify that the PISP, amount and the payee are the same as the previous occurrence. The value here refers to the payment id e.g. DomesticPaymentId")]),t._v(" "),a("td",[t._v("Max40Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("RequestedSCAExemptionType")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("SCASupportData/RequestedSCAExemptionType")]),t._v(" "),a("td",[t._v("Specifies the status reason.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("OBInternalSCAExemptionType1Code")]),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obremittanceinformation2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obremittanceinformation2"}},[t._v("#")]),t._v(" OBRemittanceInformation2")]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-9"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBRemittanceInformation2")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Information supplied to enable the matching of an entry with the items that the transfer is intended to settle, such as commercial invoices in an accounts' receivable system.")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Structured")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured")]),t._v(" "),a("td",[t._v("Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts' receivable system, in an structured form.")]),t._v(" "),a("td",[t._v("OBRemittanceInformationStructured1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ReferredDocumentAmount")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentAmount")]),t._v(" "),a("td",[t._v("Provides details on the amounts of the referred document.")]),t._v(" "),a("td",[t._v("Int32")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Invoicer")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/Invoicer")]),t._v(" "),a("td",[t._v("Identification of the organisation issuing the invoice, when it is different from the creditor or ultimate creditor")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Invoicee")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/Invoicee")]),t._v(" "),a("td",[t._v("Identification of the party to whom an invoice is issued, when it is different from the debtor or ultimate debtor.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("TaxRemittance")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/TaxRemittance")]),t._v(" "),a("td",[t._v("Provides remittance information about a payment made for tax-related purposes.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AdditionalRemittanceInformation")]),t._v(" "),a("td",[t._v("0..3")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/AdditionalRemittanceInformation")]),t._v(" "),a("td",[t._v("Additional information, in free text form, to complement the structured remittance information.")]),t._v(" "),a("td",[t._v("Array of Max140Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CreditorReferenceInformation")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/CreditorReferenceInformation")]),t._v(" "),a("td",[t._v("Reference information provided by the creditor to allow the identification of the underlying documents.")]),t._v(" "),a("td",[t._v("OBCreditorReferenceInformation1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Code")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/CreditorReferenceInformation/Code")]),t._v(" "),a("td",[t._v("Specifies the amount type, as published in an external referred amount code set.")]),t._v(" "),a("td",[a("code",[t._v("ExternalCreditorReferenceType1Code")])]),t._v(" "),a("td",[t._v("For more information see "),a("code",[t._v("ExternalCreditorReferenceType1Code")]),t._v(" "),a("a",{attrs:{href:"https:/github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("Issuer")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/CreditorReferenceInformation/Issuer")]),t._v(" "),a("td",[t._v("Entity that assigns the identification.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Reference")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/CreditorReferenceInformation/Reference")]),t._v(" "),a("td",[t._v("Unique reference, as assigned by the creditor, to unambiguously refer to the payment transaction.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ReferredDocumentInformation")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation")]),t._v(" "),a("td",[t._v("Provides the identification and the content of the referred document.")]),t._v(" "),a("td",[t._v("Array")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Code")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation/Code")]),t._v(" "),a("td",[t._v("Type of remittance document, as published in an external document type code set.")]),t._v(" "),a("td",[a("code",[t._v("ExternalDocumentType1Code")])]),t._v(" "),a("td",[t._v("For more information see "),a("code",[t._v("ExternalDocumentType1Code")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("Issuer")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation/Issuer")]),t._v(" "),a("td",[t._v("Identification of the issuer of the reference document type.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LineDetails")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation/LineDetails")]),t._v(" "),a("td",[t._v("Set of elements used to provide the content of the referred document line.")]),t._v(" "),a("td",[t._v("Array of String")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Number")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation/Number")]),t._v(" "),a("td",[t._v("Identification of the type specified for the referred document line.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("RelatedDate")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Structured/ReferredDocumentInformation/RelatedDate")]),t._v(" "),a("td",[t._v("Date associated with the referred document line.")]),t._v(" "),a("td",[t._v("ISODate")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Unstructured")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRemittanceInformation2/Unstructured")]),t._v(" "),a("td",[t._v("Information supplied to enable the matching/reconciliation of an entry with the items that the payment is intended to settle, such as commercial invoices in an accounts' receivable system, in an unstructured form.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obmandaterelatedinformation1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obmandaterelatedinformation1"}},[t._v("#")]),t._v(" OBMandateRelatedInformation1")]),t._v(" "),a("h5",{attrs:{id:"notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[t._v("#")]),t._v(" Notes")]),t._v(" "),a("ul",[a("li",[t._v("Please note, within in the "),a("code",[t._v("Frequency")]),t._v(" object either the "),a("code",[t._v("CountPerPeriod")]),t._v(" "),a("strong",[t._v("or")]),t._v(" the "),a("code",[t._v("PointInTime")]),t._v(" field should be provided. It should "),a("strong",[t._v("never")]),t._v(" be the case that both are used together.")])]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-10"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBMandateRelatedInformation1")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Provides further details of the mandate signed between the creditor and the debtor.")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("MandateIdentification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/MandateIdentification")]),t._v(" "),a("td",[t._v("Unique identification, as assigned by the creditor, to unambiguously identify the mandate.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Classification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Classification")]),t._v(" "),a("td",[t._v("Type of direct debit instruction.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBExternalMandateClassification1Code")])]),t._v(" "),a("tr",[a("td",[t._v("CategoryPurposeCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/CategoryPurposeCode")]),t._v(" "),a("td",[t._v("Specifies the high level purpose of the mandate based on a set of pre-defined categories.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_EXternal_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("ExternalCategoryPurpose1Code")])]),t._v(" "),a("tr",[a("td",[t._v("FirstPaymentDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/FirstPaymentDate")]),t._v(" "),a("td",[t._v("The date on which the first payment for a recurrent credit transfer will be made.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("RecurringPaymentDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/RecurringPaymentDateTime")]),t._v(" "),a("td",[t._v("he date on which the first recurring payment for a Standing Order schedule will be made."),a("br"),a("br"),t._v(" Usage: This must be populated only if the first recurring date is different to the first payment date.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("FinalPaymentDateTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/FinalPaymentDate")]),t._v(" "),a("td",[t._v("The date on which the final payment for a recurrent credit transfer  will be made.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Frequency")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Frequency")]),t._v(" "),a("td",[t._v("Regularity with which credit transfer instructions are to be created and processed")]),t._v(" "),a("td",[t._v("OBFrequency6")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CountPerPeriod")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Frequency/CountPerPeriod")]),t._v(" "),a("td",[t._v("Number of instructions to be created and processed during the specified period. Specifies a frequency in terms of a count per period within a specified frequency type.")]),t._v(" "),a("td",[t._v("Int32")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PointInTime")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Frequency/PointInTime")]),t._v(" "),a("td",[t._v("Further information on the exact point in time the event should take place. Specifies a frequency in terms of an exact point in time or moment within a specified frequency type.")]),t._v(" "),a("td",[t._v("Exact2NumericText")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Type")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Frequency/Type")]),t._v(" "),a("td",[t._v("A code indicating the point in time for the credit transfer.")]),t._v(" "),a("td",[a("code",[t._v("OBFrequency6Code")])]),t._v(" "),a("td",[t._v("For all enum values see "),a("code",[t._v("OBFrequency6Code")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[t._v("Reason")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBMandateRelatedInformation1/Reason")]),t._v(" "),a("td",[t._v("Reason for the setup of the credit transfer mandate.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obregulatoryreporting1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obregulatoryreporting1"}},[t._v("#")]),t._v(" OBRegulatoryReporting1")]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-11"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBRegulatoryReporting1")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Information needed due to regulatory and statutory requirements.")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DebitCreditReportingIndicator")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/DebitCreditReportingIndicator")]),t._v(" "),a("td",[t._v("Identifies whether the regulatory reporting information applies to the debit side, to the credit side or to both debit and credit sides of the transaction.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("OBExternalRegulatoryReportingType1Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Authority")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Authority")]),t._v(" "),a("td",[t._v("Entity requiring the regulatory reporting information.")]),t._v(" "),a("td",[t._v("OBRegulatoryAuthority2")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Authority/Name")]),t._v(" "),a("td",[t._v("Name of the entity requiring the regulatory reporting information.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CountryCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Authority/CountryCode")]),t._v(" "),a("td",[t._v("Country of the entity that requires the regulatory reporting information.")]),t._v(" "),a("td",[t._v("CountryCode")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("[A-Z]{2,2}")])]),t._v(" "),a("tr",[a("td",[t._v("Details")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details")]),t._v(" "),a("td",[t._v("Set of elements used to provide details on the regulatory reporting information.")]),t._v(" "),a("td",[t._v("OBStructuredRegulatoryReporting3")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Type")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Type")]),t._v(" "),a("td",[t._v("Specifies the type of the information supplied in the regulatory reporting details.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Information")]),t._v(" "),a("td",[t._v("0..*")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Information")]),t._v(" "),a("td",[t._v("Additional details that cater for specific domestic regulatory requirements.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Date")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Date")]),t._v(" "),a("td",[t._v("Date related to the specified type of regulatory reporting details.")]),t._v(" "),a("td",[t._v("ISODateTime")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Country")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Country")]),t._v(" "),a("td",[t._v("Country related to the specified type of regulatory reporting details.")]),t._v(" "),a("td",[t._v("CountryCode")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z]{2,2}$")])]),t._v(" "),a("tr",[a("td",[t._v("Amount")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Amount")]),t._v(" "),a("td",[t._v("Amount of money to be reported for regulatory and statutory requirements.")]),t._v(" "),a("td",[t._v("OBActiveOrHistoricCurrencyAndAmount")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Amount")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Amount/Amount")]),t._v(" "),a("td",[t._v("A number of monetary units specified in an active currency where the unit of currency is explicit and compliant with ISO 4217.")]),t._v(" "),a("td",[t._v("OBActiveCurrencyAndAmount_SimpleType")]),t._v(" "),a("td",[t._v("^\\d{1,13}$")]),t._v(" "),a("td",[t._v("^\\d{1,13}.\\d{1,5}$")])]),t._v(" "),a("tr",[a("td",[t._v("Currency")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBRegulatoryReporting1/Details/Amount/Currency")]),t._v(" "),a("td",[t._v('A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217 "Codes for the representation of currencies and funds".')]),t._v(" "),a("td",[t._v("ActiveOrHistoricCurrencyCode")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z]{3,3}$")])])])]),t._v(" "),a("h4",{attrs:{id:"obultimatecreditor1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obultimatecreditor1"}},[t._v("#")]),t._v(" OBUltimateCreditor1")]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-12"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBUltimateCreditor1")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Ultimate party to which an amount of money is due.")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1/Name")]),t._v(" "),a("td",[t._v("Name by which a party is known and which is usually used to identify that party.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1/Identification")]),t._v(" "),a("td",[t._v("Identification assigned by an institution.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LEI")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1/LEI")]),t._v(" "),a("td",[t._v('Legal entity identification as an alternate identification for a party. Legal Entity Identifier is a code allocated to a party as described in ISO 17442 "Financial Services - Legal Entity Identifier (LEI)".')]),t._v(" "),a("td",[t._v("Max20Text")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z0-9]{18,18}[0-9]{2,2}$")])]),t._v(" "),a("tr",[a("td",[t._v("SchemeName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1/SchemeName")]),t._v(" "),a("td",[t._v("Name of the identification scheme, in a coded form as published in an external list.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAccountIdentification4Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostalAddress")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateCreditor1/PostalAddress")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obultimatedebtor1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obultimatedebtor1"}},[t._v("#")]),t._v(" OBUltimateDebtor1")]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-13"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBUltimateDebtor1")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Ultimate party that owes an amount of money to the (ultimate) creditor.")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1/Name")]),t._v(" "),a("td",[t._v("Name by which a party is known and which is usually used to identify that party.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1/Identification")]),t._v(" "),a("td",[t._v("Identification assigned by an institution.")]),t._v(" "),a("td",[t._v("Max256Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("LEI")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1/LEI")]),t._v(" "),a("td",[t._v('Legal entity identification as an alternate identification for a party. Legal Entity Identifier is a code allocated to a party as described in ISO 17442 "Financial Services - Legal Entity Identifier (LEI)".')]),t._v(" "),a("td",[t._v("Max20Text")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z0-9]{18,18}[0-9]{2,2}$")])]),t._v(" "),a("tr",[a("td",[t._v("SchemeName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1/SchemeName")]),t._v(" "),a("td",[t._v("Name of the identification scheme, in a coded form as published in an external list.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer to "),a("code",[t._v("OB_Internal_CodeSet")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td",[t._v("OBInternalAccountIdentification4Code")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostalAddress")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBUltimateDebtor1/PostalAddress")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obpostaladdress7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obpostaladdress7"}},[t._v("#")]),t._v(" OBPostalAddress7")]),t._v(" "),a("h5",{attrs:{id:"data-dictionary-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dictionary-14"}},[t._v("#")]),t._v(" Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")]),t._v(" "),a("th",[t._v("Pattern")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services.")]),t._v(" "),a("td",[t._v("OBPostalAddress7")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("AddressType")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/AddressType")]),t._v(" "),a("td",[t._v("Identifies the nature of the postal address.")]),t._v(" "),a("td",[a("code",[t._v("OBAddressType2Code")])]),t._v(" "),a("td",[t._v("For a full set of codes see "),a("code",[t._v("OBAddressType2Code")]),t._v(" "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CareOf")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/CareOf")]),t._v(" "),a("td",[t._v("The 'care of' address is used whenever sending mail to a person or organisation who does not actually live or work at the address. They will receive the mail for the individual.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostBox")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/PostBox")]),t._v(" "),a("td",[t._v("Numbered box in a post office, assigned to a person or organisation, where letters are kept until called for")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BuildingNumber")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/BuildingNumber")]),t._v(" "),a("td",[t._v("Number that identifies the position of a building on a street.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("UnitNumber")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/UnitNumber")]),t._v(" "),a("td",[t._v("Number that identifies the unit of a specific address")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("BuildingName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/BuildingName")]),t._v(" "),a("td",[t._v("Name of a referenced building.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Department")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/Department")]),t._v(" "),a("td",[t._v("Identification of a division of a large organisation or building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("SubDepartment")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/SubDepartment")]),t._v(" "),a("td",[t._v("Identification of a sub-division of a large organisation or building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Room")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/Room")]),t._v(" "),a("td",[t._v("Information that locates and identifies a room to form part of an address.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Floor")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/Floor")]),t._v(" "),a("td",[t._v("Number that identifies the level within a building.")]),t._v(" "),a("td",[t._v("Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("StreetName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/StreetName")]),t._v(" "),a("td",[t._v("Name of a street or thoroughfare.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("TownName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/TownName")]),t._v(" "),a("td",[t._v("Name of a built-up area, with defined boundaries, and a local government.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("TownLocationName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/TownLocationName")]),t._v(" "),a("td",[t._v("Name of a built-up area, with defined boundaries, and a local government.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DistrictName")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/DistrictName")]),t._v(" "),a("td",[t._v("Number that of the regional area, known as a district, which forms part of an address.")]),t._v(" "),a("td",[t._v("Max140Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("PostCode")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/PostCode")]),t._v(" "),a("td",[t._v("Identifier consisting of a group of letters and/or numbers that is added to a postal address to assist the sorting of mail.")]),t._v(" "),a("td",[t._v("Max16Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("CountrySubDivision")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/CountrySubDivision")]),t._v(" "),a("td",[t._v("Identifies a subdivision of a country such as state, region, county.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Country")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBPostalAddress7/Country")]),t._v(" "),a("td",[t._v("Nation with its own government.")]),t._v(" "),a("td",[t._v("CountryCode")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("^[A-Z]{2,2}$")])]),t._v(" "),a("tr",[a("td",[t._v("AddressLine")]),t._v(" "),a("td",[t._v("0..7")]),t._v(" "),a("td",[t._v("OBPostalAddress7/AddressLine")]),t._v(" "),a("td",[t._v("Information that locates and identifies a specific address, as defined by postal services, presented in free format text.")]),t._v(" "),a("td",[t._v("Array of Max70Text")]),t._v(" "),a("td"),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"obproxy1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obproxy1"}},[t._v("#")]),t._v(" OBProxy1")]),t._v(" "),a("h5",{attrs:{id:"obproxy1-data-dictionary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obproxy1-data-dictionary"}},[t._v("#")]),t._v(" OBProxy1 Data Dictionary")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Occurrence")]),t._v(" "),a("th",[t._v("XPath")]),t._v(" "),a("th",[t._v("EnhancedDefinition")]),t._v(" "),a("th",[t._v("Class")]),t._v(" "),a("th",[t._v("Codes")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("OBProxy1")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Specifies an alternate assumed name for the identification of the account.")]),t._v(" "),a("td",[t._v("OBProxy1")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Identification")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBProxy1/Identification")]),t._v(" "),a("td",[t._v("Identification used to indicate the account identification under another specified name.")]),t._v(" "),a("td",[t._v("Max2048Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Type")]),t._v(" "),a("td",[t._v("0..1")]),t._v(" "),a("td",[t._v("OBProxy1/Type")]),t._v(" "),a("td",[t._v("Type of the proxy identification.")]),t._v(" "),a("td",[t._v("Max35Text")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Code")]),t._v(" "),a("td",[t._v("1..1")]),t._v(" "),a("td",[t._v("OBProxy1/Code")]),t._v(" "),a("td",[t._v("Specifies the external proxy account type code, as published in the proxy account type external code set.")]),t._v(" "),a("td",[t._v("For a full list of enumeration values refer "),a("code",[t._v("to External_CodeSet")]),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_Internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("ExternalProxyAccountType1Code")])])])]),t._v(" "),a("h3",{attrs:{id:"identifier-fields"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#identifier-fields"}},[t._v("#")]),t._v(" Identifier Fields")]),t._v(" "),a("p",[t._v("This section describes the identifiers used through the Payment API flows, the direction of flow through the system, and how they are used.")]),t._v(" "),a("p",[t._v("The standard definitions for the elements in the API payloads are described in the Data Payload section. However, this table gives further detail on the business meaning, and how they are used.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Generated")]),t._v(" "),a("th",[t._v("Identifier")]),t._v(" "),a("th",[t._v("Business Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Merchant/PISP Sent in API Payload")]),t._v(" "),a("td",[t._v("EndToEndIdentification")]),t._v(" "),a("td",[t._v("The EndToEndIdentification reference is a reference that can be populated by the debtor (or merchant in the ecommerce space). This reference is important to the debtor (could be an internal reference Id against the transaction), it Is NOT the reference information that will be primarily populated on the statement of the creditor (beneficiary).")])]),t._v(" "),a("tr",[a("td",[t._v("Merchant/PISP Sent in API Payload")]),t._v(" "),a("td",[t._v("InstructionIdentification")]),t._v(" "),a("td",[t._v("The PISP generates the InstructionIdentification which is a unique transaction Id and passes it to the ASPSP (this is mandatory), but this does not have to go any further in the payment flow. The flow of this identifier needs to align with payment scheme rules."),a("br"),a("br"),t._v("The expectation is that this is unique indefinitely across all time periods. The PISP can ensure this is indefinitely unique by including a date or date time element to the field, or by inserting a unique Id.")])]),t._v(" "),a("tr",[a("td",[t._v("Merchant/PISP Sent in API Payload")]),t._v(" "),a("td",[t._v("RemittanceInformation")]),t._v(" "),a("td",[t._v("The RemittanceInformation is the reference information that the creditor (or beneficiary) will need to reconcile (e.g. Invoice 123).")])]),t._v(" "),a("tr",[a("td",[t._v("ASPSP / API System")]),t._v(" "),a("td",[t._v("ConsentId")]),t._v(" "),a("td",[t._v("A unique identification as assigned by the ASPSP to uniquely identify the payment-order consent resource.")])]),t._v(" "),a("tr",[a("td",[t._v("ASPSP / API System")]),t._v(" "),a("td",[t._v("Payment Order Id")]),t._v(" "),a("td",[t._v("Anique identification as assigned by the ASPSP to uniquely identify the payment-order resource."),a("br"),a("br"),a("li",[t._v("DomesticPaymentId")]),a("li",[t._v("DomesticScheduledPaymentId")]),a("li",[t._v("DomesticStandingOrderId")]),a("li",[t._v("InternationalPaymentId")]),a("li",[t._v("InternationalScheduledPaymentId")])])]),t._v(" "),a("tr",[a("td",[t._v("ASPSP / Payment Scheme")]),t._v(" "),a("td",[t._v("Scheme Payment ID")]),t._v(" "),a("td",[t._v("This is generated by the ASPSP to uniquely identify a payment through a processing scheme. In the case of FPS, this is the FPID.")])])])]),t._v(" "),a("p",[t._v("The tables below identify the actor that initially creates each of the message identifiers and their transmission and visibility to other actors.")]),t._v(" "),a("p",[t._v("These flows are indicative and will be dependent on what payment schemes or agencies are able to support.")]),t._v(" "),a("p",[t._v("Key:")]),t._v(" "),a("ul",[a("li",[t._v("O indicates the actor that creates the identifier.")]),t._v(" "),a("li",[a("strong",[t._v("=>")]),t._v(" downstream direction of flow")]),t._v(" "),a("li",[a("strong",[t._v("<=")]),t._v(" upstream direction of flow")])]),t._v(" "),a("h4",{attrs:{id:"merchant-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#merchant-flow"}},[t._v("#")]),t._v(" Merchant Flow")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Identifier")]),t._v(" "),a("th",[t._v("PSU")]),t._v(" "),a("th",[t._v("Merchant")]),t._v(" "),a("th",[t._v("PISP")]),t._v(" "),a("th",[t._v("ASPSP Originating Bank")]),t._v(" "),a("th",[t._v("Payment Scheme")]),t._v(" "),a("th",[t._v("Beneficiary")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EndToEndIdentification")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])]),t._v(" "),a("tr",[a("td",[t._v("RemittanceInformation")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])]),t._v(" "),a("tr",[a("td",[t._v("InstructionIdentification")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ConsentId")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("<=")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Payment Order Id")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("<=")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Scheme Payment ID (e.g., FPID)")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])])])]),t._v(" "),a("h4",{attrs:{id:"party-to-party-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#party-to-party-flow"}},[t._v("#")]),t._v(" Party to Party Flow")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Identifier")]),t._v(" "),a("th",[t._v("PSU")]),t._v(" "),a("th",[t._v("Merchant")]),t._v(" "),a("th",[t._v("PISP")]),t._v(" "),a("th",[t._v("ASPSP Originating Bank")]),t._v(" "),a("th",[t._v("Payment Scheme")]),t._v(" "),a("th",[t._v("Beneficiary")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("EndToEndIdentification")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])]),t._v(" "),a("tr",[a("td",[t._v("RemittanceInformation")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td"),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])]),t._v(" "),a("tr",[a("td",[t._v("InstructionIdentification")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("ConsentId")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("<=")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Payment Order Id")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("<=")]),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("Scheme Payment ID (e.g., FPID)")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("O")]),t._v(" "),a("td",[t._v("=>")]),t._v(" "),a("td",[t._v("=>")])])])]),t._v(" "),a("h3",{attrs:{id:"enumerations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enumerations"}},[t._v("#")]),t._v(" Enumerations")]),t._v(" "),a("h4",{attrs:{id:"static-enumerations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-enumerations"}},[t._v("#")]),t._v(" Static Enumerations")]),t._v(" "),a("p",[t._v("The definitions and values for enumerations used in the Payment APIs can be found "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"iso-enumerations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iso-enumerations"}},[t._v("#")]),t._v(" ISO Enumerations")]),t._v(" "),a("p",[t._v("These following ISO Enumerations are used in the Payment APIs.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("ISO Data Type")]),t._v(" "),a("th",[t._v("Fields")]),t._v(" "),a("th",[t._v("ISO Enumeration Values URL")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Min3Max4Text")]),t._v(" "),a("td",[t._v("MerchantCategoryCode")]),t._v(" "),a("td",[t._v("https://www.iso.org/standard/33365.html")])]),t._v(" "),a("tr",[a("td",[t._v("ActiveOrHistoricCurrencyCode")]),t._v(" "),a("td",[t._v("Currency")]),t._v(" "),a("td",[t._v("https://www.iso20022.org/external_code_list.page")])]),t._v(" "),a("tr",[a("td",[t._v("CountryCode")]),t._v(" "),a("td",[t._v("Country")]),t._v(" "),a("td",[t._v("https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements")])])])]),t._v(" "),a("p",[t._v("The definitions and values for ISO enumerations in the Payment APIs can be found "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"namespaced-enumerations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#namespaced-enumerations"}},[t._v("#")]),t._v(" Namespaced Enumerations")]),t._v(" "),a("p",[t._v("The enumerated values specified by Open Banking are documented in Swagger specification,  Namespaced Enumerations page and "),a("a",{attrs:{href:"https://github.com/OpenBankingUK/External_internal_CodeSets",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"alternative-and-error-flows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alternative-and-error-flows"}},[t._v("#")]),t._v(" Alternative and Error Flows")]),t._v(" "),a("h3",{attrs:{id:"idempotent-payment-order-consent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idempotent-payment-order-consent"}},[t._v("#")]),t._v(" Idempotent Payment Order Consent")]),t._v(" "),a("p",[t._v("Note: this flow has been generalised for all payment-order types.")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1400),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("participant PSU\nparticipant PISP\nparticipant ASPSP Authorisation Server\nparticipant ASPSP Resource Server\n\nnote over PSU, ASPSP Resource Server\nStep 2: Setup Payment Order Consent (generalised for all payment orders)\nend note\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Initiate Client Credentials Grant\nASPSP Authorisation Server -> PISP: token\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /payment-order-consents (x-idempotency-key={pisp-guid-1})\nASPSP Resource Server -> ASPSP Resource Server: Create new resource (ConsentId=1001)\nalt unexpected failure\nPISP -> ASPSP Resource Server: POST /payment-order-consents (x-idempotency-key={pisp-guid-1})\nnote right of ASPSP Resource Server\n    The resource server recognizes that\n    this is the same request as earlier.\n    A new resource is not created.\n    The ConsentId remains the same (e.g. 1001) as above.\n    The status of the resource may be different if it has changed.\n\n    This operation can be retried multiple times if required.\nend note\nend alt\n\nASPSP Resource Server -> PISP: HTTP 201(Created), ConsentId=1001\nPISP -> PSU: Redirect (ConsentId)\n\noption footer=bar\n")])])])]),t._v(" "),a("h3",{attrs:{id:"idempotent-payment-order"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idempotent-payment-order"}},[t._v("#")]),t._v(" Idempotent Payment Order")]),t._v(" "),a("p",[t._v("Note: this flow has been generalised for all payment-order types.")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1401),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("participant PSU\nparticipant PISP\nparticipant ASPSP Authorisation Server\nparticipant ASPSP Resource Server\n\nnote over PSU, ASPSP Resource Server\n Step 4: Create payment-order (generalised for all payment orders)\nend note\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /payment-orders ConsentId = 1001, x-idempotency-key={pisp-guid-2}\n\nalt PISP attempts to POST to /payment-orders with same ConsentId\nPISP -> ASPSP Resource Server: POST /payment-orders ConsentId = 1001, x-idempotency-key={pisp-guid-2}\nASPSP Resource Server -> PISP: HTTP 201 (Created), PaymentOrderId\n\nnote right of ASPSP Resource Server\n    The resource server recognizes that this\n    is the same request as earlier.\n    A new resource is not created.\n    The PaymentOrderId remains the same as above.\n    The status of the resource may be different if it has changed.\n\n    The operation can be retried multiple times if required.\nend note\nend alt\noption footer=bar\n")])])])]),t._v(" "),a("h3",{attrs:{id:"multi-auth-payment-order-consent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#multi-auth-payment-order-consent"}},[t._v("#")]),t._v(" Multi-Auth Payment Order Consent")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1402),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("autonumber\n\nparticipant PSU Initial Authoriser\nparticipant PSU Final Authoriser\nparticipant PISP\nparticipant ASPSP Authorisation Server\nparticipant ASPSP Resource Server\n\nnote over PSU Initial Authoriser: ASPSP Resource Server \\nStep 1: Agree domestic payment Initiation\n\nPSU Initial Authoriser -> PISP: Agree domestic payment initiation request\n\nnote over PSU Initial Authoriser: ASPSP Resource Server \\nStep 2: Setup Payment-Order Consent\n\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Initiate Client Credential Grant\nASPSP Authorisation Server -> PISP: access-token\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /domestic-payment-consents\nnote over ASPSP Resource Server:Consent Status: AWAU\nASPSP Resource Server -> PISP: HTTP 201 (Created),ConsentId\nPISP -> PSU Initial Authoriser: HTTP 302 (Found),Redirect (ConsentId)\n\nnote over PSU Initial Authoriser: ASPSP Resource Server \\nStep 3: Authorize Consent - Initial Authoriser\nPSU Initial Authoriser -> ASPSP Authorisation Server: Follow redirect (ConsentId)\nPSU Initial Authoriser <-> ASPSP Authorisation Server: Authenticate (SCA if required) and Authorise consent\nnote over ASPSP Resource Server: Consent Status: AUTH\nASPSP Authorisation Server -> PSU Initial Authoriser: HTTP 302 (Found), Redirect (authorization-code)\nPSU Initial Authoriser -> PISP: Follow redirect (authorization-code)\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Exchange authorization-code for access token\nASPSP Authorisation Server -> PISP: access-token\n\nnote over PSU Initial Authoriser: ASPSP Resource Server \\nStep 4: Create Payment-Order\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /domestic-payments\nASPSP Resource Server -> PISP: HTTP 201 (Created) DomesticPaymentId\nnote over ASPSP Resource Server: Consent Status: COND\nnote over ASPSP Resource Server:Payment Status: PDNG\nnote over ASPSP Resource Server:MultiAuthorisation Status: AWAU\n\nnote over PSU Initial Authoriser: ASPSP Resource Server \\nStep 5: Authorize Consent - Final Authoriser\n\nPSU Final Authoriser -> ASPSP Authorisation Server: Authenticate (SCA if required) and Authorise consent\n\nnote over ASPSP Resource Server: MultiAuthorisation Status: AUTH\nnote over ASPSP Resource Server:Payment Status: ACCC\nnote over ASPSP Resource Server:Payment Status: ACSC\n\n    alt If PISP has registered a URL for event notification\n        ASPSP Resource Server -> PISP: POST /event-notifications\n        PISP -> ASPSP Resource Server: HTTP 200 (OK)\n        PISP -> ASPSP Resource Server: GET /domestic-payments/{DomesticPaymentId}\n        ASPSP Resource Server -> PISP: HTTP 200 (OK) domestic-payment resource\n    else PISP may poll payment order status\n        loop\n            PISP -> ASPSP Resource Server: GET /domestic-payments/{DomesticPaymentId}\n            ASPSP Resource Server -> PISP: HTTP 200 (OK) domestic-payment resource\n        end\n    end\n")])])])]),t._v(" "),a("h3",{attrs:{id:"reject-the-payment-order-consent-creation-after-cutoffdatetime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reject-the-payment-order-consent-creation-after-cutoffdatetime"}},[t._v("#")]),t._v(" Reject the Payment Order Consent Creation After CutOffDateTime")]),t._v(" "),a("p",[t._v("This example illustrates a scenario where an ASPSP choses to Reject the Payment-Order consent/resource request, after the CutoffTime. We have a CHAPS payment-order consent created after the CutOffDateTime, and ASPSP rejects the Consent, and the PISP chooses to place a Scheduled Payment-Order consent.")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1403),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("autonumber\nparticipant PSU\nparticipant PISP\nparticipant ASPSP Authorisation Server\nparticipant ASPSP Resource Server\n\nnote over PSU, ASPSP Resource Server\nStep 1: Agree Domestic Payment-Order initiation\nend note\nPSU <-> PISP: Initiate a funds transfer\nPSU -> PISP: Select debtor and creditor accounts\n\nnote over PSU, ASPSP Resource Server\nStep 2: Setup Domestic Payment Consent\nend note\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Initiate Client Credentials Grant\nASPSP Authorisation Server -> PISP: access-token\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /domestic-payment-consents\nnote over PISP, ASPSP Resource Server\nCHAPS Payment cutoff time expired, so consent initiation is rejected\nend note\nASPSP Resource Server -> PISP: HTTP 400 (BAD_REQUEST)\nPISP -> PSU: Try setting up a Scheduled Payment\n\nnote over PSU, ASPSP Resource Server\nStep 3: Setup Domestic Scheduled Payment Consent\nend note\n\nnote over PSU, ASPSP Resource Server\nStep 4: Authorize consent\nend note\n\nnote over PSU, ASPSP Resource Server\nStep 5: Create Domestic Scheduled Payment-Order\nend note\n\nnote over PSU, ASPSP Resource Server\nStep 6: Get Domestic Scheduled Payment-Order status\nend note\noption footer=bar\n")])])])]),t._v(" "),a("h3",{attrs:{id:"reject-the-payment-order-creation-after-cutoffdatetime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reject-the-payment-order-creation-after-cutoffdatetime"}},[t._v("#")]),t._v(" Reject the Payment Order Creation After CutOffDateTime")]),t._v(" "),a("p",[t._v("This example illustrates a scenario where an ASPSP choses to Reject the Payment-Order consent/resource request, after the CutoffTime. We have a CHAPS payment-order Consent created and the Authorisation completed before the CutOffDateTime, but the Payment-Order submission happened after the CutOffDateTime, so the ASPSP has rejected it.")]),t._v(" "),a("p",[a("img",{attrs:{src:r(1404),alt:""}})]),t._v(" "),a("details",[a("summary",[t._v("Diagram source")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("autonumber\nparticipant PSU\nparticipant PISP\nparticipant ASPSP Authorisation Server\nparticipant ASPSP Resource Server\n\nnote over PSU, ASPSP Resource Server\nStep 1: Agree Domestic Payment-Order initiation\nend note\nPSU <-> PISP: Initiate a funds transfer\nPSU -> PISP: Select debtor and creditor accounts\n\nnote over PSU, ASPSP Resource Server\nStep 2: Setup Domestic Payment-Order Consent\nend note\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Initiate Client Credentials Grant\nASPSP Authorisation Server -> PISP: access-token\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nPISP -> ASPSP Resource Server: POST /domestic-payment-consents\nASPSP Resource Server -> PISP: HTTP 201 (Created), ConsentId\nPISP -> PSU: HTTP 302 (Found), Redirect (ConsentId)\n\nnote over PSU, ASPSP Resource Server\nStep 3: Authorize consent\nend note\nPSU -> ASPSP Authorisation Server: Follow redirect (ConsentId)\nPSU <-> ASPSP Authorisation Server: authenticate\nPSU <-> ASPSP Authorisation Server: SCA if required\nASPSP Authorisation Server -> PSU: HTTP 302 (Found), Redirect (authorization-code)\nPSU -> PISP: Follow redirect (authorization-code)\nPISP <-> ASPSP Authorisation Server: Establish TLS 1.2 MA\nPISP -> ASPSP Authorisation Server: Exchange authorization-code for access token\nASPSP Authorisation Server -> PISP: access-token\n\nnote over PSU, ASPSP Resource Server\nStep 4: Create Domestic Payment-Order\nend note\nPISP <-> ASPSP Resource Server: Establish TLS 1.2 MA\nnote over PISP, ASPSP Authorisation Server\nDelay in Redirection or\nUser spent too long to Authorise or\nPISP took too long to submit Payment Order,\nleading to Expiry of CHAPS Cutoff Time\nend note\n\nPISP -> ASPSP Resource Server: POST /domestic-payments\nASPSP Resource Server -> PISP: HTTP 400 (BAD_REQUEST)\nPISP -> PSU: Try setting up a Scheduled Payment\n\nnote over PSU, ASPSP Resource Server\nStep 5: Setup Domestic Scheduled Payment Consent\nend note\n\noption footer=bar\n")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);